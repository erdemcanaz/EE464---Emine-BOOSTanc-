Version 4
SHEET 1 888 680
WIRE -320 -112 -320 -176
WIRE -128 -112 -320 -112
WIRE 176 -112 -64 -112
WIRE 432 32 432 -16
WIRE -320 48 -320 -112
WIRE -192 48 -320 48
WIRE 176 48 176 -112
WIRE 176 48 32 48
WIRE 176 80 176 48
WIRE -192 112 -304 112
WIRE 384 112 32 112
WIRE -192 176 -384 176
WIRE 176 176 176 144
WIRE 176 176 32 176
WIRE 432 176 432 128
WIRE 432 176 176 176
WIRE 592 176 432 176
WIRE -384 224 -384 176
WIRE 432 224 432 176
WIRE -192 240 -256 240
WIRE 64 240 32 240
WIRE 592 240 592 176
WIRE -256 272 -256 240
WIRE 64 304 64 240
WIRE 384 304 64 304
WIRE 432 384 432 320
FLAG -256 272 0
FLAG -480 0 0
FLAG -480 -80 vcc
FLAG -320 -176 vcc
FLAG -608 0 0
FLAG -608 -80 PWM
FLAG -304 112 PWM
FLAG 816 -32 0
FLAG 816 -112 Vg
FLAG 432 -16 Vg
FLAG -384 304 0
FLAG 432 384 0
FLAG 592 320 0
SYMBOL ir2104 -80 144 R0
SYMATTR InstName U1
SYMBOL voltage -480 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 20
SYMBOL schottky -128 -96 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL polcap 160 80 R0
WINDOW 3 24 56 Left 2
SYMATTR Value 10µ
SYMATTR InstName C1
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=2 Irms=3 Rser=0.011 Lser=0 mfg="Rubycon" pn="2SXB100M" type="Al electrolytic"
SYMBOL voltage -608 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 5 0 0.1u 0.1u 5u 10u)
SYMBOL nmos 384 32 R0
SYMATTR InstName M1
SYMATTR Value IRFZ48Z
SYMBOL voltage 816 -128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 40
SYMBOL voltage -384 208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 10
SYMBOL nmos 384 224 R0
SYMATTR InstName M2
SYMATTR Value IRFZ48Z
SYMBOL res 576 224 R0
SYMATTR InstName R1
SYMATTR Value 100
TEXT -1032 360 Left 2 !.tran 0.005
TEXT -984 -128 Left 2 !.include ir2104.sub
